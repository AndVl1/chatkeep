# Profile for OpenAPI schema generation in CI
# Uses H2 in-memory database to avoid requiring external services
spring:
  datasource:
    url: jdbc:h2:mem:openapidb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;CASE_INSENSITIVE_IDENTIFIERS=TRUE;DEFAULT_NULL_ORDERING=HIGH
    username: sa
    password:
    driver-class-name: org.h2.Driver

  flyway:
    enabled: true
    locations: classpath:db/migration
    validate-on-migrate: false
    baseline-on-migrate: true

  main:
    # Allow bean overriding for conditional beans
    allow-bean-definition-overriding: true

# Disable Telegram bot startup for schema generation
telegram:
  bot:
    enabled: false
    token: openapi-placeholder
    username: openapi_bot
  adminbot:
    token: openapi-placeholder
    username: openapi_bot
  mini-app:
    url: https://example.com

jwt:
  secret: openapi-secret-key-for-schema-generation-32-chars
  expiration-hours: 24

admin:
  user-ids: 1

github:
  token: openapi-placeholder
  owner: openapi
  repo: openapi

admin-logs:
  path: /tmp/openapi-logs

logging:
  level:
    root: WARN
    ru.andvl.chatkeep: INFO
